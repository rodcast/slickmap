/*!
 slickmap v 0.1
 Developed by Rodrigo Castilho
 email: rodcast@gmail.com
 site: http://rodrigocastilho.com
 
 Copyright (C) 2010.
 Licensed under a Creative Commons Attribution-Share Alike 3.0 Unported License (http://creativecommons.org/licenses/by-sa/3.0/)

 Create Site map with base JSON and SlickMap CSS. Pure JavaScript (no framework)
 
 @Inspired on SlickMap CSS:
   http://astuteo.com/slickmap/
 */
var Slickmap=Slickmap||(function(b){String.prototype.stripId=function(){return this.toLowerCase().replace(/^\s*|\s$/g,"").replace(/\s+/g,"_").replace(/[áàâãäª]/g,"a").replace(/[éèêë]/g,"e").replace(/[íìîï]/g,"i").replace(/[óòôõöº]/g,"o").replace(/[úùûü]/g,"u").replace(/ç/g,"c").replace(/\W/g,"_").replace(/_+/g,"_")};function a(){if(_slickmap instanceof Object&&_slickmap.hasOwnProperty("items")){try{var g=b.getElementById("sitemap"),f=b.createElement("h1"),d=b.createElement("h2");g.className="sitemap";f.innerHTML=_slickmap.title||"";d.innerHTML=_slickmap.subtitle||"";g.appendChild(f).parentNode.appendChild(d);var c=function(p){var o=0,k=p.item.length,m,j,e,n=b.createElement("ul");for(;o<k;o++){e=b.createElement("li");j=b.createElement("a");m=p.item[o];j.appendChild(b.createTextNode(m.name));j.href=m.link;j.title=m.description;e.id=(m.name).stripId();e.appendChild(j);if(m.item){e.appendChild(arguments.callee(m))}n.appendChild(e)}return n};if(_slickmap.hasOwnProperty("items")){g.appendChild(c(_slickmap.items[0]));g.getElementsByTagName("ul")[0].id="primaryNav"}}catch(h){alert(h)}}}return{init:function(){a()}}}(document));